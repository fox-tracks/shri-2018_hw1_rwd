"use strict";!function(){const e=["sosed","cat","dog","hall"];function t(e,t){if(Hls.isSupported()){const o=new Hls;o.loadSource(t),o.attachMedia(e),o.on(Hls.Events.MANIFEST_PARSED,function(){e.play()})}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src=t,e.addEventListener("loadedmetadata",function(){e.play()}))}function o(t){const o=t.dataset.key;return e[o-1]}const a=Array.from(document.querySelectorAll(".card__video"));let r,c;a.forEach(e=>{t(e,`http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2F${o(e)}%2Fmaster.m3u8`)});const l=document.querySelector(".page__popup"),s=document.querySelector(".page"),n=document.querySelector(".popup__back-btn"),i=document.querySelector(".popup__control-wrap"),u=document.querySelector(".popup__control_brightness"),d=document.querySelector(".popup__control_contrast");a.forEach(e=>{e.addEventListener("click",e=>{a.forEach(e=>{e.pause()}),l.style.display="block",s.style.overflow="hidden";const u=e.target.cloneNode(!0),d=Math.floor(100*e.pageX/s.clientWidth-50),p=Math.floor(100*e.pageY/s.clientHeight-50),_=e.target.getBoundingClientRect().height/s.clientHeight,h=o(e.target);l.insertBefore(u,l.firstChild),t(c=l.querySelector(".card__video"),`http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2F${h}%2Fmaster.m3u8`),c.style.transform=`translate(${d}%, ${p}%) scale(${_})`,r=`translate(${d}%, ${p}%) scale(${_})`,setTimeout(function(){u.classList.add("popup__video_full")},0),setTimeout(function(){n.classList.add("popup__back-btn_active"),i.classList.add("popup__back-btn_active")},0)})}),n.addEventListener("click",()=>{l.querySelector(".card__video").classList.remove("popup__video_full"),c.style.transform=r,a.forEach(e=>{e.play()}),setTimeout(function(){l.style.display="none",l.querySelector(".card__video").remove()},5e3)}),u.addEventListener("change",e=>{c.style.filter=`brightness(${e.target.value}%)`}),d.addEventListener("change",e=>{c.style.filter=`contrast(${e.target.value}%)`})}();