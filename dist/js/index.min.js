"use strict";function initCameraGesture(){const t=document.querySelector(".camera"),e=document.querySelector(".camera__scroll"),a=t.getBoundingClientRect().width,n=getComputedStyle(t).getPropertyValue("background-size");let s=null;const r={startPositionX:0,startZoom:+n.slice(0,-1)};let i=new Array,c=-1;t.addEventListener("pointerdown",e=>{t.style.transition="none",t.setPointerCapture(e.pointerId),s={id:e.pointerId,startX:e.x,startPositionX:r.startPositionX},i.push(s)}),t.addEventListener("pointermove",n=>{if(2===i.length){i.forEach(t=>{s&&n.pointerId===t.id&&(t.startX=n.x)});const e=Math.abs(i[0].startX-i[1].startX);if(c>0){const n=e/a*100;e>c&&(t.style.backgroundSize=r.startZoom+n+"%",r.startZoom=r.startZoom+n),e<c&&(t.style.backgroundSize=r.startZoom-n+"%",r.startZoom=r.startZoom-n),c=e}}if(i.length<2){if(!s)return;t.classList.add("camera_moved");const i=document.querySelector(".camera_moved"),{startX:c,startPositionX:o}=s,{x:l}=n;let d=l-c;const u=r.startZoom,_=a*u/100,p=a/(_-a);o+d>=0?(i.style.backgroundPositionX="0px",r.startPositionX=0,e.style.left=0):o+d<0&&Math.abs(o+d)>=_-a?(i.style.backgroundPositionX="-"+(_-a).toString()+"px",r.startPositionX=-(_-a),e.style.left=a-e.getBoundingClientRect().width+"px"):(i.style.backgroundPositionX=o+d+"px",r.startPositionX=o+d,e.style.left=Math.abs(o+d)*p+"px")}}),t.addEventListener("pointerup",()=>{s=null}),t.addEventListener("pointercancel",()=>{s=null})}setTimeout(initCameraGesture,0),function(){const t=window.data,e=document.querySelector("template").content.querySelector("article.event-feed__card"),a=document.querySelector(".event-feed__wrapper");function n(t){const a=document.createDocumentFragment();return t.forEach(t=>{const n=function(t,e){const a=t.cloneNode(!0),{icon:n}=e,s=a.querySelector("div.card__extra-content");if(a.classList.add("card_icon_"+n),a.classList.add("card_size_"+e.size),a.classList.add("event-feed__card_size_"+e.size),a.classList.add("card_action_"+e.type),a.querySelector("h3.card__title").textContent=e.title,a.querySelector("p.card__source").textContent=e.source,a.querySelector("p.card__time").textContent=e.time,null!==e.description){let t=document.createElement("div");t.classList.add("card__description"),t.textContent=e.description,s.appendChild(t)}else s.style.display="none";if(e.hasOwnProperty("data")){let t=document.createElement("div");t.classList.add("card__widget"),t.classList.add("widget");const{data:a}=e;switch(n){case"stats":t.innerHTML=function(){const t=["Richdata@1x.png","Richdata@2x.png","Richdata@3x.png"].map(t=>{const e=[];return e.push("img/"+t),e});return`<div class="widget__wrap widget__wrap_graph">\n                <img class="widget__wrap_graph-img" src="${t[0]}" srcset="${t[1]} 2x, ${t[2]} 3x" width="100%" height="100%" alt="Графики">\n            </div>`}();break;case"thermal":t.innerHTML=function(t){const{temperature:e,humidity:a}=t;return`<div class="widget__wrap climate">\n        <div class="climate__temperature">Температура: <span class="climate__temperature-value">${e} С</span></div>\n        <div class="climate__humidity">Влажность : <span class="climate__humidity-value">${a}%</span></div>\n      </div>`}(a);break;case"music":t.innerHTML=function(t){const{albumcover:e,artist:a,volume:n}=t,{name:s,length:r}=t.track;return`<div class="widget__wrap player">\n        <img class="player__album-cover" src="${e}" width="52px" height="53px" alt="Florence & The Machine">\n        <div class="player__track-info">\n            <span class="player__track-name">${a} - ${s}</span>\n        </div>\n        <input class="player__track-bar" type="range" value="31" min="0" max="271">\n        <span class="player__track-length">${r}</span>\n        <button class="player__back-btn"></button>\n        <button class="player__next-btn"></button>\n        <input class="player__volume-bar" type="range" value="${n}" min="0" max="100">\n        <span class="player__volume-value">${n}%</span>\n  </div>`}(a);break;case"fridge":t.innerHTML=function(t){const{buttons:e}=t;return`<div class="widget__wrap dialogue">\n        <button class="dialogue__btn dialogue__btn_agree">${e[0]}</button>\n        <button class="dialogue__btn dialogue__btn_cancel">${e[1]}</button>\n      </div>`}(a);break;case"cam":t.innerHTML='<div class="widget__wrap widget__wrap_cam camera"><div class="camera__scroll"></div></div>\n            <div class="camera__controls"> \n                <p class="camera__zoom">Приближение: <span class="camera__zoom-value">78%</span></p>\n                <p class="camera__brightness">Яркость: <span class="camera__brightness-value">50%</span></p>\n            </div>'}s.appendChild(t)}return a}(e,t);a.appendChild(n)}),a}(function(t){const e=n(t);a.appendChild(e)})(t)}(),function(){const t="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,e=document.querySelector(".event-feed__wrapper");t||e.classList.add("event-feed-not-touchscreen")}(),function(){const t=document.querySelector(".hamburger-btn"),e=document.querySelector(".header__nav");t.addEventListener("click",()=>{e.classList.toggle("header__nav_state_shown"),t.classList.toggle("hamburger-btn_action_close")})}();